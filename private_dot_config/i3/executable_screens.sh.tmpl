#!/bin/bash

{{- if eq .email "albert.callarisa@form3.tech" }}
internal=eDP-1-1
external=DP-1-3
{{- end }}
{{- if eq .email "albert@acroca.com" }}
internal=eDP-1
external=HDMI-2
{{- end }}


if xrandr | grep "$external disconnected"; then
  {{- if (index . "dpi") }}
  xrandr --output "$external" --off --output "$internal" --auto
  {{- else }}
  xrandr --output "$external" --off --output "$internal" --auto --mode 1920x1080
  {{- end }}
elif cat /proc/acpi/button/lid/LID0/state | grep "closed"; then
  xrandr --output "$internal" --off --output "$external" --auto
else
  xrandr \
    --output $external --primary --mode 2560x1440 --pos 1920x0 \
    --output $internal --mode 1920x1080 --pos 0x0
fi
